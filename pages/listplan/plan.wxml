<!--plan.wxml-->

<view class="thiscontainer">
     <view class="slimSpace"></view> 
    <!-- 这是Toast -->
    <include src="../ui/toast/toast.wxml" />
    <view class="button-group">
        <button class="dateMoveButton" bindtap="onLastDate" size="default"> 前一天</button>
        <button class="dateButton" bindtap="onSelectDate" size="default"> {{selectedDate}}</button>
        <button class="dateMoveButton" bindtap="onNextDate" size="default"> 后一天</button>
    </view>

    <view class="graySpace"></view>

    <!-- 动作列表  wx:key="curMovementIndex" -->
    <view class="container2">
        <scroll-view style='height:{{scrollHeight}}rpx;' scroll-y="true">
            <view class="listSingleMovement" wx:for="{{curRecords.movementList}}" class='movement-item'>
                <view class="item_contanier">
                    <view id='{{item.mvId}}' class='movement' bindtap="onModifyMovement">
                        <view class="graySpace"></view>
                        <view class="tableCornor">

                            <image class='header-img' src="../../pages/image/arm2.png">{{item.mvId}}</image>
                            <!-- <image class='header-img' src="{{item.pictureSrc}}"></image>  -->
                            <!-- 暂时放ID，方便调试 -->

                            <view class="content" style="flex:5" data-index="{{index}}">
                                <view class="graySpace"></view>

                                <view class="movementName">
                                    <view class="tableItem">第{{item.mvId}}个</view>
                                    <view class="tableItemName">{{item.mvInfo.mvName}}</view>
                                    <view class="tableItem">{{item.mvInfo.partName}}</view>
                                </view>

                                <view class="graySpace"></view>

                                <view class="movementNumbers">
                                    <view class="tableItem">{{item.contents.planGpCount}}组</view> 
                                    <view class="tableItemName">{{tipMvCount}}{{item.contents.details[0].planCount}}次</view>
                                    <view class="tableItem">{{tipMvWeight}}{{item.contents.details[0].planWeight}}{{item.contents.details[0].measurement}}</view>
                                </view>
                            </view>
                        </view>
                        <view class="graySpace"></view>
                    </view>
                </view>
            </view>
        </scroll-view>
    </view>

    <view class="graySpace"></view>

    <view class="button-group">
        <view class="addButton" bindtap="onAddMovement">+</view>
    </view>

    <!-- 这是Modal -->
    <include src="../ui/modal/PlanModal.wxml" />

</view>