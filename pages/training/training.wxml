<!-- 今日计划表 -->
<view class="thiscontainer">
    <!-- 这是Toast -->
    <include src="../ui/toast/toast.wxml" />
    <!-- <view class="title">今日计划</view> -->

    <!-- 屏幕分三部分 -->
    <!-- 上半部分计划总览 -->
    <view class="topPanel">
        <view class="topPanelLeft">
            <view class="title">当前动作</view>
            <view class="topPanelLeft_InnerLeft" bindtap="onShowDetails">
                <text style="font-size: 60rpx">{{curRecords.movementList[curSelectedMovementId-1].mvInfo.partName}}</text>
                <text style="font-size: 40rpx">{{curRecords.movementList[curSelectedMovementId-1].mvInfo.mvName}}</text>
            </view>
        </view>

        <view class="topPanelRight">
            <view class="title">计划内容</view>
            <scroll-view class="topScrollview" scroll-y="true">
                <view class='bodypart-item' wx:for="{{curRecords.movementList}}" wx:key="{{item.id}}">

                    <view class="{{item.selected?'bodypartSelected':''}}" style="width:100%" data-index="{{index}}">

                        <view class="scrollItemContainer" id='{{item.mvId}}' bindtap="onMovementSelected">
                            <icon type="success" size="20" color="{{item.contents.finished?'green':'gray'}}" />
                            <view class="scrollItemContainer {{item.mvId==curSelectedMovementId?'detailsItemSelected':'detailsItem'}}">
                                <view class="scrollItemNarrowNumber">{{item.mvId}}. </view>
                                <view class="scrollItemNarrowNumber">{{item.contents.planGpCount}}X</view>
                                <view class="scrollItem">{{item.mvInfo.mvName}}</view>
                            </view>
                        </view>

                    </view>

                </view>

            </scroll-view>
        </view>
    </view>

    <!-- 中间部分具体锻炼记录 -->
    <view class="middlePanel" wx:if="{{!showDetails}}">

        <view class="middlePanelLeft">
            <view class="middlePanelLeft_InnerLeft">
                <view class="title">完成详情</view>
                <view class='bodypart-item'>
                    <icon type="success" style="padding:20rpx;border-right:1rpx soild #eee" size="20" color="{{item.finished?'green':'gray'}}" />
                    <view class="plan-actual">
                        <view id='{{item.id}}' class="{{item.id==curSelectedRecordId?'detailsItemSelected':'detailsItem'}}">
                            <view class="scrollItemContainer">
                                <view class="scrollItem">完成</view>
                            </view>
                        </view>

                        <view id='{{item.id}}' class="{{item.id==curSelectedRecordId?'detailsItemSelected':'detailsItem'}}">
                            <view class="scrollItemContainer">
                                <view class="scrollItem">计划</view>
                            </view>
                        </view>
                    </view>
                </view>

                <!-- <view class="scrollItemHeaderContainer" style="font-size:20rpx">
                <view class="scrollItem">完成/计划</view>
                <view class="scrollItemNarrow">次</view>
                <view class="scrollItem">完成/计划</view>
                <view class="scrollItemNarrow">Kg</view>
                <view class="scrollItemNarrow">得</view>
                <view class="scrollItemNarrow">分</view>
            </view> -->

                <scroll-view class="middleRecorderScrollview" scroll-y="true">
                    <view class='bodypart-item' wx:for="{{curRecords.movementList[curSelectedMovementId-1].contents.details}}" wx:key="{{item.id}}">
                        <icon type="success" style="padding:20rpx;border-right:1rpx soild #eee" size="20" color="{{item.finished?'green':'gray'}}" />
                        <view class="plan-actual">
                            <view id='{{item.id}}' class="detailsItem" style="background:#eee">
                                <view class="scrollItemContainer">
                                    <view class="scrollItem">{{item.planCount}}</view>
                                    <view class="scrollItemNarrow">次</view>
                                    <view class="scrollItem">{{item.planWeight}}</view>
                                    <view class="scrollItemNarrow">{{item.measurement}}</view>
                                    <view class="scrollItemNarrow">{{ }}</view>
                                    <view class="scrollItemNarrow">分</view>
                                </view>
                            </view>

                            <view id='{{item.id}}' class="{{item.id==curSelectedRecordId?'detailsItemSelected':'detailsItem'}}" bindtap="onSelectFinishedDetails" wx:if="{{item.actualCount!=0 && item.acutalWeight!=0}}">
                                <view class="scrollItemContainer">
                                    <view class="scrollItem">{{item.actualCount}}</view>
                                    <view class="scrollItemNarrow">次</view>
                                    <view class="scrollItem">{{item.actualWeight}}</view>
                                    <view class="scrollItemNarrow">{{item.measurement}}</view>
                                    <view class="scrollItemNarrow">{{item.groupFeeling}}</view>
                                    <view class="scrollItemNarrow">分</view>
                                </view>
                            </view>
                        </view>

                    </view>

                </scroll-view>
            </view>

        </view>

        <view class="middlePanelRight">
            <view class="title">当前记录</view>

            <view class="middlePanelRight_row1">
                <button class="recordBtn" style="width: 80%;background: #e64340" disabled="{{disableRemoveBtn}}" bindtap="onRemoveBtnTap">删除</button>
                <button class="recordBtn" style="width: 80%;background: gray" disabled="{{disableModifyBtn}}" bindtap="onModifyBtnTap">修改</button>
            </view>

            <view class="middlePanelRight_row2">
                <view class="whiteSpace"></view>
                <view style="font-size: 20rpx">次数</view>
                <input bindinput="onCountInput" type="number" maxlength="3" value="{{actualCount}}" confirm-type='next' placeholder="次数" />
                <view style="font-size: 20rpx">重量</view>
                <input bindinput="onWeightInput" type="number" maxlength="3" value="{{actualWeight}}" confirm-type='done' placeholder="重量" />
                <view style="font-size: 20rpx">分数</view>
                <input bindinput="onScoreInput" type="number" maxlength="2" value="{{actualGpFeeling}}" confirm-type='done' placeholder="分数" />
                <view class="whiteSpace"></view>
            </view>

            <view class="middlePanelRight_row3">
                <picker style="width: 100%;height: 100rpx" mode="multiSelector" bindchange="onGroupScore" value="{{groupScoreIndex}}" range="{{groupScoreMultiArray}}">
                    <view class="scrollItemContainer">
                        <view class="pickerItem"> {{actualCount}} 次 </view>
                        <view class="pickerItem"> {{actualWeight}} Kg </view>
                        <view class="pickerItem"> {{actualGpFeeling}}分 </view>
                    </view>
                </picker>

                <!-- <view class="whiteSpace"></view> -->
                <view style="height:160rpx">
                    <view class=".middlePanelRight_row3_right_row3" wx:if="{{curRecords.movementList[curSelectedMovementId-1].contents.finished}}">
                        <text>整套动作感觉</text>
                        <view class="imageContainer">
                            <view style="height:120rpx" wx:for="{{totalScoreStarArray}}" wx:key="{{index}}">
                                <image value="{{item.id}}" id="{{item.id}}" class="image_star" bindtap="onMovementScore" src="{{item.src}}"></image>
                            </view>

                        </view>
                    </view>
                </view>
                <view style="height: 80rpx; width:100%">
                    <button class="recordBtn" style="width:80%; height:90rpx; background:green" bindtap="onRecordBtnTap">记录</button>
                </view>
            </view>

        </view>
    </view>

    <!-- 点击动作详情的时候响应 -->
    <view class="middlePanelHide" wx:if="{{showDetails}}">
        <view class="title">动作详情</view>
        <view class="tmp">
            <text style="font-size: 60rpx">还在抓紧整理中。。。。</text>

        </view>
    </view>

    <!-- 底部具体翻动作，动作详情查看 -->
    <!-- <view class="bottomPanel">
        <view class="button-group">
            <button class="dateMoveButton" bindtap="onLastMovement" size="default"> Last</button>
            <button class="dateButton" bindtap="onShowDetails" size="default">动作详情</button>
            <button class="dateMoveButton" bindtap="onNextMovement" size="default"> Next</button>
        </view>
    </view> -->
</view>