<!--pages/plan/plan_type/plan_type.wxml-->

<view class='container'>
    <view class='head-box'>

        <view class="tab-head-box">
            <block wx:for="{{tabData}}" wx:key="{{index}}">
                <view wx:if="{{currentTabIdx===index}}" class="tab-item" data-current="{{index}}">{{item.name}}</view>
            </block>
        </view>

        <view class='gray-space-small'></view>

        <view class="swiper-box column">
            <block wx:for="{{tabData}}" wx:key="{{index}}">
                <view wx:if="{{currentTabIdx===index}}">
                    <view class='selector-box' wx:for="{{tabData[currentTabIdx].data}}" wx:key="{{index}}">
                        <view id="{{item.id}}" class="round-corner-box {{item.checked?'item-checked':''}}" bindtap='onItemChecked'>
                            <text>{{item.text}}</text>
                        </view>
                    </view>
                </view>

                <view wx:if="{{currentTabIdx===index}}" class='control-btn-box'>
                    <view id='{{index}}' class="round-corner-btn {{ tabData[0].finished?'enable':'disable' }}" bindtap="{{tabData[0].finished?'onSteps':''}}">
                        {{currentTabIdx===0?'下一步':'上一步'}}
                    </view>
                </view>
            </block>
        </view>
    </view>

    <!-- 这是Toast -->
    <include src="../../ui/toast/warn_toast.wxml" />

    <block wx:for="{{tabData}}" wx:key="{{index}}">
        <view wx:if="{{currentTabIdx===index}}" data-current="{{index}}" class="tips-item" style='text-align:center'>{{item.tips}}</view>
    </block>

    <view class='gray-space-small'></view>

    <view class='foot-box'>
        <button class='next-btn' type='primary' disabled="{{disableNextBtn}}" bindtap='onNext'>{{nextBtnText}}</button>
    </view>
</view>